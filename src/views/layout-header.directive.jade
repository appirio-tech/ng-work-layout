ul.flex.center.middle
  li
    a.clean.logo("ng-home-link"=true, "href"="{{ vm.homeHref }}")
      img(src="/images/asp-logo.svg")

  li.app-name
    h4(ng-if="vm.showAppName") {{ vm.appName }}

  li
    ul.links
      li(ng-show="vm.loggedIn")
        a(ng-if="vm.userType == 'customer' " ui-sref="view-work-multiple") Dashboard

        a(ng-if="vm.userType != 'customer' " ui-sref="copilot-projects") Dashboard

      li.projects(ng-show="vm.loggedIn")
        button.clean(focus-on-click=true) Projects <span class="caret">&dtrif;</span>

        ul.sublinks.elevated
          li
            a(ng-if="vm.userType == 'customer' " ui-sref="submit-work") Create New Project

          li(ng-if="vm.userType == 'customer' " ng-repeat="project in vm.projects")
            a(ui-sref="timeline({ workId: project.id })")
              .name {{ project.name }}

          li(ng-if="vm.userType != 'customer' " ng-repeat="project in vm.copilotProjects")
            a(ui-sref="copilot-project-details({ id: project.id })")
              .name {{ project.name }}

      li.login(ng-hide="vm.loggedIn")
        a.button.hollow(ui-sref="login") Log in

      li.profile(ng-show="vm.loggedIn")
        button.clean(focus-on-click=true)
          avatar(avatar-url="{{vm.userAvatar}}")

        ul.sublinks.elevated
          li
            a(href="#") View Profile

          li
            a(ng-click="vm.logout()") Logout

          li
            a(ui-sref="submit-work") Settings

      li.notifications(ng-show="vm.loggedIn")
        button.clean(type="button" focus-on-click=true)
          .notification(ng-class="{ danger: vm.unreadCount > 0 }") {{ vm.unreadCount || 0 }}

        .popup.elevated
          threads(ng-if="vm.userType == 'customer'" subscriber-id="{{ vm.subscriberId }}")

          threads(ng-if="vm.userType != 'customer'" subscriber-id="{{ vm.subscriberId }}" user-type="copilot")


